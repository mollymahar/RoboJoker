{% extends 'base.html' %}

{% block content %}
<div class="site-wrapper-inner-not-centered">
    {% if error %}
    <p class="error">
        <strong> Error:</strong>
        {{ error }}
    </p>
    {% endif %}
    <div class="form-check radioGroupBelow">
        <form action="" method="post" name="jokes">
            {{ form.hidden_tag() }}


            {% for field in form %}

            {% if loop.index == 1 %}
            <!-- first field is CSRF field - do not display -->
            {% else %}
            <div class="form-check-inline"></div>

            Joke {{ loop.index - 1}}
            <br>

            <p class="joke-text">{{ jokes[loop.index - 2]}}</p>

            {% for subfield in field %}
            <tr class="radioGroupBelow">
                <br>
                <td>{{ subfield }}</td>
                <td>{{ subfield.label }}</td>
            </tr>
            {% endfor %}
            <br><br>

            {% endif %}
            <hr color="gray">
            {% endfor %}

            <!-- Not sure how to combine the input value necessary for Flask into the links
            with emoji's that we'd want to show, nor how to deal with disabled links in Flask or how to keep track of the three pages and which has been visited... -->
            <p>
            <input type="submit" value="More Jokes!" class="btn btn-lg btn-secondary">
            </p>
            <br>
            <p class="lead">Thanks for rating! Which joke set do you want to see next?</p>
            <a href="{{ url_for('recommendation')}}" class="btn btn-lg btn-secondary">&#x1F420</a>
            <a href="{{ url_for('recommendation')}}" class="btn btn-lg btn-secondary disabled">&#x1F41D</a>
            <a href="{{ url_for('recommendation')}}" class="btn btn-lg btn-secondary">&#x1F419</a>
        </form>
    </div>
</div>
{% endblock %}
